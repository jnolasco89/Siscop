--
-- PostgreSQL database dump
--

-- Dumped from database version 11.2
-- Dumped by pg_dump version 11.2

-- Started on 2019-06-06 23:34:46

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2952 (class 1262 OID 16528)
-- Name: siscop; Type: DATABASE; Schema: -; Owner: siemp
--

CREATE DATABASE siscop WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'Spanish_El Salvador.1252' LC_CTYPE = 'Spanish_El Salvador.1252';


ALTER DATABASE siscop OWNER TO siemp;

\connect siscop

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 200 (class 1259 OID 16551)
-- Name: account; Type: TABLE; Schema: public; Owner: siemp
--

CREATE TABLE public.account (
    id integer NOT NULL,
    username character varying(100) NOT NULL,
    password character varying(255) NOT NULL,
    email character varying(100) NOT NULL,
    active boolean
);


ALTER TABLE public.account OWNER TO siemp;

--
-- TOC entry 199 (class 1259 OID 16549)
-- Name: account_id_seq; Type: SEQUENCE; Schema: public; Owner: siemp
--

ALTER TABLE public.account ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.account_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 196 (class 1259 OID 16529)
-- Name: catalogo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.catalogo (
    id integer NOT NULL,
    codigo character(10),
    nombre character(50),
    activo boolean,
    fechacrea time without time zone,
    usercrea character varying(15),
    fechamod timestamp without time zone,
    usermod character varying(15)
);


ALTER TABLE public.catalogo OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16760)
-- Name: cuenta; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cuenta (
    codigo character varying(30) NOT NULL,
    nombre character varying(100),
    descripcion character varying(200),
    codigoctapadre character varying(30),
    estado boolean
);


ALTER TABLE public.cuenta OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 16589)
-- Name: direccion; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.direccion (
    id bigint NOT NULL,
    idpersona bigint,
    idtipo bigint,
    direccion character varying(200),
    fechacrea timestamp(4) without time zone,
    usercrea character varying(15),
    fechamod timestamp(4) without time zone,
    usermod character varying(15)
);


ALTER TABLE public.direccion OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 16577)
-- Name: documento; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.documento (
    id bigint NOT NULL,
    idpersona bigint,
    idtipo bigint,
    numero character varying(20),
    fechaexpedicion date,
    fechavence date,
    fechacrea timestamp(4) without time zone,
    usercrea character varying(15),
    fechamod timestamp(4) without time zone,
    usermod character varying(15)
);


ALTER TABLE public.documento OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16720)
-- Name: item; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.item (
    id bigint NOT NULL,
    nombre character varying(10)
);


ALTER TABLE public.item OWNER TO postgres;

--
-- TOC entry 197 (class 1259 OID 16532)
-- Name: item_catalogo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.item_catalogo (
    id integer NOT NULL,
    codigo character(10),
    descripcion character(50),
    idcatalogo integer,
    activo boolean,
    fechacrea time without time zone,
    usercrea character varying(15),
    fechamod timestamp without time zone,
    usermod character varying(15)
);


ALTER TABLE public.item_catalogo OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 16546)
-- Name: persona; Type: TABLE; Schema: public; Owner: siemp
--

CREATE TABLE public.persona (
    id bigint NOT NULL,
    idtipo integer,
    nomcom character varying(50),
    razsocial character varying(50),
    nombre1 character varying(15),
    nombre2 character varying(15),
    nombre3 character varying(15),
    apellido1 character varying(15),
    apellido2 character varying(15),
    apecasada character varying(15),
    fechacrea timestamp without time zone,
    usercrea character varying(15),
    fechamod timestamp without time zone,
    usermod character varying(15),
    fechanac date,
    sexo character varying(1),
    idestadocivil integer
);


ALTER TABLE public.persona OWNER TO siemp;

--
-- TOC entry 208 (class 1259 OID 16715)
-- Name: persona2; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.persona2 (
    id bigint NOT NULL,
    idtipo bigint
);


ALTER TABLE public.persona2 OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 16673)
-- Name: proyecto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.proyecto (
    id bigint NOT NULL,
    codigo character varying(10),
    nombre character varying(200),
    nombrecorto character varying(20),
    fechaini date,
    fechafin date,
    fechacrea time without time zone,
    usercrea character varying(15),
    fechamod timestamp without time zone,
    usermod character varying(15)
);


ALTER TABLE public.proyecto OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16763)
-- Name: seq_catalogo; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_catalogo
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_catalogo OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 16734)
-- Name: seq_direccion; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_direccion
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_direccion OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16736)
-- Name: seq_documento; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_documento
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_documento OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16765)
-- Name: seq_itemcatalogo; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_itemcatalogo
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_itemcatalogo OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16730)
-- Name: seq_persona; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_persona
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_persona OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16740)
-- Name: seq_proyecto; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_proyecto
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_proyecto OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16732)
-- Name: seq_telefono; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_telefono
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_telefono OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 16738)
-- Name: seq_usuario; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.seq_usuario
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.seq_usuario OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 16606)
-- Name: telefono; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.telefono (
    id bigint NOT NULL,
    idpersona bigint,
    idtipo bigint,
    extension character varying(4),
    numero character varying(15),
    fechacrea timestamp(4) without time zone,
    usercrea character varying(15),
    fechamod timestamp(4) without time zone,
    usermod character varying(15)
);


ALTER TABLE public.telefono OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 16562)
-- Name: token; Type: TABLE; Schema: public; Owner: siemp
--

CREATE TABLE public.token (
    id integer NOT NULL,
    account_id integer,
    token_hash character varying(255) NOT NULL,
    token_type character varying(100),
    ip_address character varying(100),
    description character varying(255),
    created timestamp without time zone,
    expiration timestamp without time zone
);


ALTER TABLE public.token OWNER TO siemp;

--
-- TOC entry 201 (class 1259 OID 16560)
-- Name: token_id_seq; Type: SEQUENCE; Schema: public; Owner: siemp
--

ALTER TABLE public.token ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 206 (class 1259 OID 16616)
-- Name: usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario (
    id bigint NOT NULL,
    usuario character varying(15),
    idpersona bigint,
    password character varying(50),
    fechacrea timestamp without time zone,
    usercrea character varying(15),
    fechamod timestamp without time zone,
    usermod character varying(15)
);


ALTER TABLE public.usuario OWNER TO postgres;

--
-- TOC entry 2928 (class 0 OID 16551)
-- Dependencies: 200
-- Data for Name: account; Type: TABLE DATA; Schema: public; Owner: siemp
--

INSERT INTO public.account (id, username, password, email, active) VALUES (1, 'hzometa', 'PBKDF2WithHmacSHA512:3072:jyoZ4+LdCQcj2/DGzdR6lTE0Q1XTL7zeaE71JmcPuNe7ao+nc29+rAIKXu5rLq/0pEwSVVhCARnImGtkMytFQA==:lzr7Q30zcnOXrNAUxvxxNIEf3UdpVQAbmOLPIfVZv+0=', 'henryzometa@gmail.com', true);


--
-- TOC entry 2924 (class 0 OID 16529)
-- Dependencies: 196
-- Data for Name: catalogo; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (58, 'asd       ', 'asd                                               ', NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (59, 'asdsa     ', 'sdsdff                                            ', NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (60, 'dfd       ', 'dsfsdf                                            ', NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (61, 'hhhhh     ', 'hhhhhh                                            ', NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (1, '1         ', 'Profesiones                                       ', true, '23:09:21.946', NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (3, 'PR2       ', 'Catalogo de prueba 2                              ', NULL, '23:10:35.611', NULL, NULL, NULL);
INSERT INTO public.catalogo (id, codigo, nombre, activo, fechacrea, usercrea, fechamod, usermod) VALUES (4, 'PR2       ', 'Catalogo de prueba 2                              ', NULL, '23:10:44.6', NULL, NULL, NULL);


--
-- TOC entry 2944 (class 0 OID 16760)
-- Dependencies: 216
-- Data for Name: cuenta; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2932 (class 0 OID 16589)
-- Dependencies: 204
-- Data for Name: direccion; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2931 (class 0 OID 16577)
-- Dependencies: 203
-- Data for Name: documento; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2937 (class 0 OID 16720)
-- Dependencies: 209
-- Data for Name: item; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2925 (class 0 OID 16532)
-- Dependencies: 197
-- Data for Name: item_catalogo; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.item_catalogo (id, codigo, descripcion, idcatalogo, activo, fechacrea, usercrea, fechamod, usermod) VALUES (63, '          ', 'Hola                                              ', 59, NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.item_catalogo (id, codigo, descripcion, idcatalogo, activo, fechacrea, usercrea, fechamod, usermod) VALUES (65, '4         ', 'Prueba                                            ', 59, NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.item_catalogo (id, codigo, descripcion, idcatalogo, activo, fechacrea, usercrea, fechamod, usermod) VALUES (67, '3         ', '1                                                 ', 59, NULL, NULL, NULL, NULL, NULL);
INSERT INTO public.item_catalogo (id, codigo, descripcion, idcatalogo, activo, fechacrea, usercrea, fechamod, usermod) VALUES (1, 'IT1       ', 'Item 1                                            ', 3, NULL, '23:10:35.613', NULL, NULL, NULL);
INSERT INTO public.item_catalogo (id, codigo, descripcion, idcatalogo, activo, fechacrea, usercrea, fechamod, usermod) VALUES (2, 'IT1       ', 'Item 1                                            ', 4, NULL, '23:10:44.601', NULL, NULL, NULL);


--
-- TOC entry 2926 (class 0 OID 16546)
-- Dependencies: 198
-- Data for Name: persona; Type: TABLE DATA; Schema: public; Owner: siemp
--



--
-- TOC entry 2936 (class 0 OID 16715)
-- Dependencies: 208
-- Data for Name: persona2; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2935 (class 0 OID 16673)
-- Dependencies: 207
-- Data for Name: proyecto; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2933 (class 0 OID 16606)
-- Dependencies: 205
-- Data for Name: telefono; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2930 (class 0 OID 16562)
-- Dependencies: 202
-- Data for Name: token; Type: TABLE DATA; Schema: public; Owner: siemp
--



--
-- TOC entry 2934 (class 0 OID 16616)
-- Dependencies: 206
-- Data for Name: usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 2953 (class 0 OID 0)
-- Dependencies: 199
-- Name: account_id_seq; Type: SEQUENCE SET; Schema: public; Owner: siemp
--

SELECT pg_catalog.setval('public.account_id_seq', 1, true);


--
-- TOC entry 2954 (class 0 OID 0)
-- Dependencies: 217
-- Name: seq_catalogo; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_catalogo', 4, true);


--
-- TOC entry 2955 (class 0 OID 0)
-- Dependencies: 212
-- Name: seq_direccion; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_direccion', 1, false);


--
-- TOC entry 2956 (class 0 OID 0)
-- Dependencies: 213
-- Name: seq_documento; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_documento', 1, false);


--
-- TOC entry 2957 (class 0 OID 0)
-- Dependencies: 218
-- Name: seq_itemcatalogo; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_itemcatalogo', 2, true);


--
-- TOC entry 2958 (class 0 OID 0)
-- Dependencies: 210
-- Name: seq_persona; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_persona', 1, true);


--
-- TOC entry 2959 (class 0 OID 0)
-- Dependencies: 215
-- Name: seq_proyecto; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_proyecto', 1, false);


--
-- TOC entry 2960 (class 0 OID 0)
-- Dependencies: 211
-- Name: seq_telefono; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_telefono', 1, false);


--
-- TOC entry 2961 (class 0 OID 0)
-- Dependencies: 214
-- Name: seq_usuario; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seq_usuario', 1, false);


--
-- TOC entry 2962 (class 0 OID 0)
-- Dependencies: 201
-- Name: token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: siemp
--

SELECT pg_catalog.setval('public.token_id_seq', 1, false);


--
-- TOC entry 2759 (class 2606 OID 16559)
-- Name: account account_email_key; Type: CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.account
    ADD CONSTRAINT account_email_key UNIQUE (email);


--
-- TOC entry 2761 (class 2606 OID 16555)
-- Name: account account_pkey; Type: CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.account
    ADD CONSTRAINT account_pkey PRIMARY KEY (id);


--
-- TOC entry 2763 (class 2606 OID 16557)
-- Name: account account_username_key; Type: CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.account
    ADD CONSTRAINT account_username_key UNIQUE (username);


--
-- TOC entry 2753 (class 2606 OID 16803)
-- Name: catalogo catalogo_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.catalogo
    ADD CONSTRAINT catalogo_pk PRIMARY KEY (id);


--
-- TOC entry 2773 (class 2606 OID 16598)
-- Name: direccion direccion_persona_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.direccion
    ADD CONSTRAINT direccion_persona_unique UNIQUE (idpersona, idtipo);


--
-- TOC entry 2775 (class 2606 OID 16596)
-- Name: direccion direccion_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.direccion
    ADD CONSTRAINT direccion_pk PRIMARY KEY (id);


--
-- TOC entry 2767 (class 2606 OID 16605)
-- Name: documento documento_numero_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documento
    ADD CONSTRAINT documento_numero_unique UNIQUE (idtipo, numero);


--
-- TOC entry 2963 (class 0 OID 0)
-- Dependencies: 2767
-- Name: CONSTRAINT documento_numero_unique ON documento; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT documento_numero_unique ON public.documento IS 'No puede repetirse numero de documento';


--
-- TOC entry 2769 (class 2606 OID 16583)
-- Name: documento documento_persona_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documento
    ADD CONSTRAINT documento_persona_unique UNIQUE (idpersona, idtipo);


--
-- TOC entry 2964 (class 0 OID 0)
-- Dependencies: 2769
-- Name: CONSTRAINT documento_persona_unique ON documento; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT documento_persona_unique ON public.documento IS 'No puede repetirse tipo de documento por persona';


--
-- TOC entry 2771 (class 2606 OID 16581)
-- Name: documento documento_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documento
    ADD CONSTRAINT documento_pk PRIMARY KEY (id);


--
-- TOC entry 2755 (class 2606 OID 16768)
-- Name: item_catalogo item_catalogo_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item_catalogo
    ADD CONSTRAINT item_catalogo_pk PRIMARY KEY (id);


--
-- TOC entry 2791 (class 2606 OID 16724)
-- Name: item item_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT item_pk PRIMARY KEY (id);


--
-- TOC entry 2789 (class 2606 OID 16719)
-- Name: persona2 persona2_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.persona2
    ADD CONSTRAINT persona2_pk PRIMARY KEY (id);


--
-- TOC entry 2757 (class 2606 OID 16576)
-- Name: persona persona_pk; Type: CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.persona
    ADD CONSTRAINT persona_pk PRIMARY KEY (id);


--
-- TOC entry 2785 (class 2606 OID 16679)
-- Name: proyecto proyecto_codigo_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_codigo_unique UNIQUE (codigo);


--
-- TOC entry 2787 (class 2606 OID 16677)
-- Name: proyecto proyecto_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyecto
    ADD CONSTRAINT proyecto_pk PRIMARY KEY (id);


--
-- TOC entry 2777 (class 2606 OID 16615)
-- Name: telefono telefono_persona_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.telefono
    ADD CONSTRAINT telefono_persona_unique UNIQUE (idpersona, idtipo);


--
-- TOC entry 2779 (class 2606 OID 16613)
-- Name: telefono telefono_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.telefono
    ADD CONSTRAINT telefono_pk PRIMARY KEY (id);


--
-- TOC entry 2765 (class 2606 OID 16569)
-- Name: token token_pkey; Type: CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.token
    ADD CONSTRAINT token_pkey PRIMARY KEY (id);


--
-- TOC entry 2781 (class 2606 OID 16620)
-- Name: usuario usuario_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_pk PRIMARY KEY (id);


--
-- TOC entry 2783 (class 2606 OID 16622)
-- Name: usuario usuario_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_unique UNIQUE (usuario);


--
-- TOC entry 2798 (class 2606 OID 16774)
-- Name: direccion direccion_item_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.direccion
    ADD CONSTRAINT direccion_item_fk FOREIGN KEY (idtipo) REFERENCES public.item_catalogo(id);


--
-- TOC entry 2797 (class 2606 OID 16599)
-- Name: direccion direccion_persona_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.direccion
    ADD CONSTRAINT direccion_persona_fk FOREIGN KEY (idpersona) REFERENCES public.persona(id);


--
-- TOC entry 2796 (class 2606 OID 16779)
-- Name: documento documento_item_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documento
    ADD CONSTRAINT documento_item_fk FOREIGN KEY (idtipo) REFERENCES public.item_catalogo(id);


--
-- TOC entry 2795 (class 2606 OID 16584)
-- Name: documento documento_persona_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.documento
    ADD CONSTRAINT documento_persona_fk FOREIGN KEY (idpersona) REFERENCES public.persona(id);


--
-- TOC entry 2965 (class 0 OID 0)
-- Dependencies: 2795
-- Name: CONSTRAINT documento_persona_fk ON documento; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON CONSTRAINT documento_persona_fk ON public.documento IS 'd';


--
-- TOC entry 2792 (class 2606 OID 16804)
-- Name: item_catalogo item_catalogo_catalogo_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item_catalogo
    ADD CONSTRAINT item_catalogo_catalogo_fk FOREIGN KEY (idcatalogo) REFERENCES public.catalogo(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 2802 (class 2606 OID 16725)
-- Name: persona2 persona2_item_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.persona2
    ADD CONSTRAINT persona2_item_fk FOREIGN KEY (idtipo) REFERENCES public.item(id);


--
-- TOC entry 2793 (class 2606 OID 16769)
-- Name: persona persona_item_fk; Type: FK CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.persona
    ADD CONSTRAINT persona_item_fk FOREIGN KEY (idtipo) REFERENCES public.item_catalogo(id);


--
-- TOC entry 2800 (class 2606 OID 16784)
-- Name: telefono telefono_item_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.telefono
    ADD CONSTRAINT telefono_item_fk FOREIGN KEY (idtipo) REFERENCES public.item_catalogo(id);


--
-- TOC entry 2799 (class 2606 OID 16685)
-- Name: telefono telefono_persona_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.telefono
    ADD CONSTRAINT telefono_persona_fk FOREIGN KEY (idpersona) REFERENCES public.persona(id);


--
-- TOC entry 2794 (class 2606 OID 16570)
-- Name: token token_account_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: siemp
--

ALTER TABLE ONLY public.token
    ADD CONSTRAINT token_account_id_fkey FOREIGN KEY (account_id) REFERENCES public.account(id);


--
-- TOC entry 2801 (class 2606 OID 16623)
-- Name: usuario usuario_persona_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_persona_fk FOREIGN KEY (idpersona) REFERENCES public.persona(id);


-- Completed on 2019-06-06 23:34:46

--
-- PostgreSQL database dump complete
--

